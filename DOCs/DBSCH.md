# Database Schema Documentation (Firebase Firestore)

## 1. Overview

This document outlines the schema for the Firebase Firestore database used by the StudyVerse app.

## 2. General Conventions

*   **Naming Convention:** camelCase for field names (e.g., `createdAt`, `profilePicture`).
*   **Data Types:** Explicitly specified for each field (e.g., String, Number, Boolean, Timestamp, Array, Reference).
*   **Timestamps:** All relevant entities include `createdAt` and `updatedAt` fields.

## 3. Collections

### 3.1. Users

*   *Description:* Represents a user of the app.
    *   *Fields:*
        *   `id`: (String, required) Unique identifier for the user (generated by Firebase Authentication).
        *   `name`: (String, required) User's full name.
        *   `email`: (String, required) User's email address.
        *   `password`: (String, required) User's password (hashed and stored by Firebase Authentication).
        *   `phoneNumber`: (String) User's phone number.
        *   `profilePicture`: (String) URL of the user's profile picture.
        *   `learningStyle`: (String) User's preferred learning style (e.g., visual, auditory, kinesthetic).
        *   `createdAt`: (Timestamp) Date and time when the user account was created.
        *   `lastLogin`: (Timestamp) Date and time of the user's last login.
        *   `enrolledCourses`: (Array of References to Courses) Courses the user is enrolled in.
        *   `completedLessons`: (Array of References to Lessons) Lessons the user has completed.
        *   `socialLinks`: (Object) Social media links (e.g., Facebook, Twitter, LinkedIn).
            *   `facebook`: (String) Facebook profile URL.
            *   `twitter`: (String) Twitter profile URL.
            *   `linkedin`: (String) LinkedIn profile URL.
        *   `settings`: (Object) User-specific settings (e.g., theme, language, notification preferences).
            *   `theme`: (String) User's preferred theme (e.g., light, dark).
            *   `language`: (String) User's preferred language (e.g., en, fr, ug).
            *   `notificationsEnabled`: (Boolean) Whether notifications are enabled.
        *   `pushNotificationToken`: (String) Token for sending push notifications to the user's device.
        *   `role`: (String) User's role (e.g., student, instructor, admin).
        *   `credits`: (Number) Credits or points the user has earned.
    *   *Indexes:*
        *   `email`

### 3.2. Courses

*   *Description:* Represents a course offered in the app.
    *   *Fields:*
        *   `id`: (String, required) Unique identifier for the course.
        *   `name`: (String, required) Course name.
        *   `description`: (String) Course description.
        *   `topics`: (Array of String) List of topics covered in the course.
        *   `lessons`: (Array of References to Lessons) Lessons included in the course.
        *   `instructor`: (Reference to User) Instructor who created the course.
        *   `createdAt`: (Timestamp) Date and time when the course was created.
        *   `updatedAt`: (Timestamp) Date and time when the course was last updated.
        *   `enrolledUsers`: (Array of References to Users) Users enrolled in the course.
        *   `category`: (String) Category of the course (e.g., Math, Science, History).
        *   `level`: (String) Difficulty level of the course (e.g., Beginner, Intermediate, Advanced).
        *   `rating`: (Number) Average rating of the course (e.g., 1-5 stars).
        *   `reviewCount`: (Number) Number of reviews for the course.
        *   `tags`: (Array of String) Keywords or tags associated with the course.
        *   `isPublished`: (Boolean) Indicates whether the course is published and available to users.
        *   `price`: (Number) Price of the course (if it's a paid course).
        *   `thumbnail`: (String) URL of the course thumbnail image.
    *   *Indexes:*
        *   `name`
        *   `category`
        *   `level`
        *   `instructor`

### 3.3. Lessons

*   *Description:* Represents a lesson within a course.
    *   *Fields:*
        *   `id`: (String, required) Unique identifier for the lesson.
        *   `title`: (String, required) Lesson title.
        *   `content`: (String) Lesson content (text, images, videos, etc.).
        *   `order`: (Number) Order of the lesson within the course.
        *   `course`: (Reference to Course) Course the lesson belongs to.
        *   `createdAt`: (Timestamp) Date and time when the lesson was created.
        *   `updatedAt`: (Timestamp) Date and time when the lesson was last updated.
        *   `quizzes`: (Array of References to Quizzes) Quizzes associated with the lesson.
        *   `type`: (String) Type of lesson (e.g., video, text, interactive).
        *   `duration`: (Number) Duration of the lesson in minutes.
        *   `resources`: (Array of String) List of URLs for external resources (e.g., articles, websites).
        *   `isFree`: (Boolean) Indicates whether the lesson is free or requires a paid course.
        *   `transcript`: (String) Text transcript of the lesson (if it's a video lesson).
    *   *Indexes:*
        *   `course`
        *   `title`

### 3.4. Quizzes

*   *Description:* Represents a quiz within a lesson.
    *   *Fields:*
        *   `id`: (String, required) Unique identifier for the quiz.
        *   `questions`: (Array of Objects) List of questions in the quiz.
            *   `text`: (String, required) Question text.
            *   `options`: (Array of String) List of possible answers.
            *   `correctAnswer`: (String) ID of the correct answer.
        *   `lesson`: (Reference to Lesson) Lesson the quiz belongs to.
        *   `createdAt`: (Timestamp) Date and time when the quiz was created.
        *   `updatedAt`: (Timestamp) Date and time when the quiz was last updated.
        *   `passingScore`: (Number) Score required to pass the quiz.
        *   `timeLimit`: (Number) Time limit for the quiz in minutes.
        *   `attemptsAllowed`: (Number) Number of attempts allowed for the quiz.
    *   *Indexes:*
        *   `lesson`

### 3.5. UserProgress

    *Description:* Holds the state of the user and his course
    *Fields:*
        *   `userId`: (String, required) The ID of the user
        *   `lessonsCompleted` : (Array of References to Lessons) Lessons the user has completed.
        *   `quizzesCompleted` : (Array of References to Quizzes) Quizzes the user has completed.
        *   `coursesEnrolled` : (Array of References to Courses) Courses the user is currently enrolled in.
        *   `coursesCompleted` : (Array of References to Courses) Courses the user has completed.
    *   *Indexes:*
        *    `userId`

### 3.6. Achievements

*   *Description:* Represents an achievement a user can earn.
    *   *Fields:*
        *   `id`: (String, required) Unique identifier for the achievement.
        *   `name`: (String, required) Name of the achievement.
        *   `description`: (String) Description of the achievement.
        *   `icon`: (String) URL of the achievement icon.
        *   `points`: (Number) Points awarded for earning the achievement.
        *   `criteria`: (Object) Criteria for earning the achievement (e.g., complete a certain number of lessons, score a certain percentage on a quiz).

### 3.7. UserAchievements

*   *Description:* Represents the achievements earned by a user.
    *   *Fields:*
        *   `userId`: (Reference to User) User who earned the achievement.
        *   `achievementId`: (Reference to Achievement) Achievement earned.
        *   `earnedAt`: (Timestamp) Date and time when the achievement was earned.

### 3.8. StudyGroups

*   *Description:* Represents a study group.
    *   *Fields:*
        *   `id`: (String, required) Unique identifier for the study group.
        *   `name`: (String, required) Name of the study group.
        *   `description`: (String) Description of the study group.
        *   `members`: (Array of References to Users) Members of the study group.
        *   `createdAt`: (Timestamp) Date and time when the study group was created.
        *   `createdBy`: (Reference to User) User who created the study group.
        *   `course`: (Reference to Course) Course the study group is focused on.

### 3.9. Notifications

*   *Description:* Represents a notification sent to a user.
    *   *Fields:*
        *   `id`: (String, required) Unique identifier for the notification.
        *   `userId`: (Reference to User) User who received the notification.
        *   `type`: (String) Type of notification (e.g., new lesson, quiz reminder, achievement earned).
        *   `content`: (String) Notification content.
        *   `isRead`: (Boolean) Indicates whether the notification has been read.
        *   `createdAt`: (Timestamp) Date and time when the notification was sent.

